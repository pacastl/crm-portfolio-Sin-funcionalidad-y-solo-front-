"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[534],{3534:(T,m,e)=>{e.r(m),e.d(m,{AuthModule:()=>S});var g=e(6895),s=e(9299),p=e(7579),f=e(9300),h=e(2722),n=e(4650),v=e(7803),M=e(4859),d=e(3546),c=e(9549),C=e(4144),a=e(4006);function A(t,i){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Email y/o contrase\xf1a incorrectos "),n.qZA())}const P=[{path:"",component:(()=>{class t{constructor(o,r,l){this.route=o,this.router=r,this.authService=l,this.loginValid=!0,this.email="",this.password="",this._destroySub$=new p.x}ngOnInit(){this.authService.isAuthenticated$.pipe((0,f.h)(o=>o),(0,h.R)(this._destroySub$)).subscribe(()=>{const o=this.authService.getUserRoles();o&&o.includes("ROLE_ADMIN")?this.router.navigate(["/panel/admin"]):o&&o.includes("ROLE_PARTNER")&&this.router.navigate(["/panel/partner"])})}ngOnDestroy(){this._destroySub$.next()}onSubmit(){console.log("Email:",this.email),console.log("Password:",this.password),this.authService.login(this.email,this.password).subscribe(o=>{const r=this.authService.getUserRoles();r&&r.includes("ROLE_ADMIN")?this.router.navigate(["/panel/admin"]):r&&r.includes("ROLE_PARTNER")&&this.router.navigate(["/panel/partner"])},o=>{console.log("Login failed :",o),this.loginValid=!1})}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(s.gz),n.Y36(s.F0),n.Y36(v.e))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login-page"]],decls:17,vars:3,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[4,"ngIf"],["appearance","outline",1,"form-field"],["matInput","","placeholder","Email","name","email","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","placeholder","Password","name","password","required","",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"form-button"]],template:function(o,r){1&o&&(n.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0,1),n.NdJ("ngSubmit",function(){return r.onSubmit()}),n.TgZ(4,"h2"),n._uU(5,"Login panel de partners"),n.qZA(),n.YNc(6,A,2,0,"mat-error",2),n.TgZ(7,"mat-form-field",3)(8,"input",4),n.NdJ("ngModelChange",function(u){return r.email=u}),n.qZA(),n.TgZ(9,"mat-error"),n._uU(10," Por favor, proporcione una direcci\xf3n de correo v\xe1lida "),n.qZA()(),n.TgZ(11,"mat-form-field",3)(12,"input",5),n.NdJ("ngModelChange",function(u){return r.password=u}),n.qZA(),n.TgZ(13,"mat-error"),n._uU(14," Por favor, proporcione una contrase\xf1a "),n.qZA()(),n.TgZ(15,"button",6),n._uU(16,"Login"),n.qZA()()()()),2&o&&(n.xp6(6),n.Q6J("ngIf",!r.loginValid),n.xp6(2),n.Q6J("ngModel",r.email),n.xp6(4),n.Q6J("ngModel",r.password))},dependencies:[g.O5,M.lW,d.a8,d.dn,c.KE,c.TO,C.Nt,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F],styles:["mat-card[_ngcontent-%COMP%]{max-width:40%;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block!important}.form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.form-button[_ngcontent-%COMP%]{margin-top:1rem}.green[_ngcontent-%COMP%]{background-color:#86bc26!important;color:#fffcfc!important}"]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[s.Bz.forChild(P),s.Bz]}),t})();var R=e(8565);let S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.ez,L,R.q,a.u5,a.UX]}),t})()}}]);